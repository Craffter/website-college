<!DOCTYPE html>
<html id="html" lang="en-US">

<head>
  <!--   <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
  <meta name="viewport" content="width=device-width">

  <script defer src="https://friconix.com/cdn/friconix.js"> </script>
  <script src="https://unpkg.com/scrollreveal"></script>
  <script id="MathJax-script" async src="https://cdn.
jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Courgette&family=Dancing+Script:wght@500&family=Italianno&family=Kalam:wght@300;400&family=Montserrat&family=Sriracha&family=Yesteryear&display=swap"
    rel="stylesheet">
  <link href="style.css" rel="stylesheet" type="text/css" />
  <style>
  </style>
</head>

<!-- <body style="margin: 0;padding: 0;border: 0;font-family:'Times New Roman', Times, serif, sans-serif;" id="body"> -->

<body style="margin: 0;padding: 0;border: 0;" id="body">

  <!--   <div style="max-width: 800px;">  super wide screen responsiveness -->
  <div id="galleryCover"
    style="position: fixed;z-index: 2;background-color: black;opacity: 0.5;align-items: center;width: 100%;height: 100%;display: none;">
  </div>


  <!--     loading -->
  <section>
    <div style="height: 100%;width:100%;background-color:white;z-index: 2;display: flex;position: fixed;opacity: 90%;"
      id="cover">
    </div>
    <!--<div class="spinner" id="loading" style="position: relative;"> -->
    <div class="spinner" id="loading">
      <div class="double-bounce1" style="background-color: blueviolet;"></div>
      <div class="double-bounce2" style="background-color: blue;"></div>
      <p style="line-height: 135%;color: transparent;">aa</p>
      <p style="margin-left: -15%;">Loading…</p>
    </div>
  </section>

  <!--   head pic -->
  <section id="hp" style="background-color: black;position: relative;">
    <img src="images/headPic.png" id="headPic" style="opacity: 0.7; margin: 0;">
    <h1 id="banner">Crafting Beauty - Sculpting Possibilities</h1>
    <figcaption
      style="color: purple; font-size: 90%;padding-right: 23px;background-color: #faf9f9; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;border: 1px solid #faf9f9;">
      Image & Website Originally Created By
      Tom Song
    </figcaption>
  </section>

  <!-- <div id="particles-js" style="z-index: 3;width: 50%;height: 50%;position: fixed;"></div> -->

  <!--   document -->
  <section id="document">
    <div style="white-space: nowrap;">

      <!--  left margin -->
      <div style="width: 50px;display: inline-block;id=" rightMargin">
        <p style="color: transparent;">t</p>
      </div>



      <!--  nav bar -->
      <div id="assistor">
        <div id="nav">
          <div id="nav1">
            <h1 style="color: transparent;white-space: nowrap;margin-bottom: 1px;">Intro</h1>
          </div>
          <div id="nav2">
            <ul class="sec roundedCorner item">
              <li><a href="#aa" id="navIntro">Intro</a></li>
              <li><a href="#aa" id="navWeb">This Website</a></li>
              <li><a href="#aa" id="navPiano">Hybrid Piano</a></li>
              <li><a href="#aa" id="navCalc">Lagrange Polynomial</a></li>
              <li><a href="#aa" id="navArts">My Artworks</a></li>
            </ul>
          </div>
          <div id="nav3">
            <ul class="sec roundedCorner item" style="text-align: center;line-height: 90%;">
              <img style="border-radius:50%;width: 40px !important;height: 40px !important; margin: 0;"
                src="images/Profile.gif">
              <br><br>

              <!--               color: #600cfd; -->
              <p style="line-height: 110%;text-align: left;vertical-align: middle;"><a
                  href="mailto:tom23.song@gmail.com" target="_blank" style="color: ;">
                  <span id="email"><i class="fi-xwsuxl-envelope-solid"></i></span>
                  &nbsptom23.song@gmail.com</a></p>

              <p style="line-height: 110%;text-align: left;vertical-align: middle;"><a
                  href="artworks/Tom Song Resume.pdf" target="_blank" style="color: ;">
                  <span id="resume"><i class="fi-xnsuxl-file-pdf-solid"></i></span>
                  &nbspclick me for a resume</a></p>

              <p style="line-height: 110%;text-align: left;vertical-align: middle;"><a href="#aa" id="toTop"
                  style="color: ">
                  <span><i class="fi-xnsuxl-double-chevron-solid"></i></span>
                  &nbspback to top</a></p>
              <!--               <p style="text-align: left;display: inline-table;"><a href="">Hide</a></p>
              <p style="text-align: left;display: inline-table;"><a href="">Top</a></p> -->
            </ul>
          </div>
        </div>
      </div>



      <!--  middle margin -->
      <div style="width: 6px;display: inline-block;id=" rightMargin">
        <p style="color: transparent;">t</p>
      </div>



      <!--  content -->
      <div id="content">
        <!--         <h1 class="item">Tom's Projects<span style="color: transparent;" id="h1">tom</span></h1> -->



        <section id="intro">

          <h1 class="item" style="margin-bottom: 0;color: #080396;">Intro</h1>

          <section class="sec item">
            <p class="item">
              My name is Tom Song. I came from Zhuhai, a beautiful coastal city in southern China, and moved to the United States in the summer of 2019. I graduated from Flushing International High School, currently finished my Navy training and am studying at SUNY University at Buffalo for spring 2024 while working part time as a Navy Reservist.</p>
            <p>
              There are many things I am very into: playing piano, creating art, working out and running marathons, learning math and technology, and more. Along the journey of pursuing these of my passions, I love to create. Hence, I dedicate a lot of my spare time to "making something", including making this website, which documents and presents some of the projects and work I have done/am doing.
            </p>
            <p>
              Although this is a responsive website, it performs best on a full-screen computer/laptop browser. Click on the navigation bar on the left to check out the sections. You could also try out the animations of different elements, for example, by clicking or hovering your mouse over an image.
            </p>
          </section>

        </section>



        <section id="thisWebsite">
          <h1 class="item" style="margin-bottom: 0;color: #49008A;">This Website</h1>

          <section class="sec item">
            <p class="item">
              This Website is created by Tom. It is programmed with pure HTML, CSS, and JavaScript codes. Several libraries are used for this website, such as Bootstrap, Google Fonts, MathML, and highlight.js.
            </p>
            <div style="text-align: center;" class="galleryContainer">
              <a href="#aa">
                <img src="images/thisWebsite/codeLanguage.png" style="width: 60% !important;" class="item">
              </a>
              <div class="zoomContainer">
                <img src="images/thisWebsite/codeLanguage.png" class="zoomPic">
              </div>
            </div>
            <p>
              I used the OperaGX browser on a 16" MacBook (resolution 3456 × 2234) to code most parts of this website. I also tested it out on Chrome, Safari, Edge, and Firefox on this laptop; they all seem to work perfectly. Chrome for Android, Safari for iPhone 14 Pro Max, and PC devices with resolutions under 1024 x 600 seem to have some slight flaws and unexpected display errors.
            </p>
            <p>
               In addition, I am updating this website slowly during my spare time; to see the latest version, you could click on the link in the footer at the bottom of the whole webpage.
            </p>
          </section>
       
            <br>
          <h1 class="item" style="margin-bottom: 0;color: #49008A;">The Header</h1>

          <section class="sec item">
            
            <p class="item">
              I spent quite a while to find an image for the header of my website. But in the end, I decided to create one on my own, based on the frequency response (FR) graph of a note on a piano and violin.
            </p>
            <figure class="item">
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="images/thisWebsite/FRgraph.png" class="item roundedCorner">
                </a>
                <div class="zoomContainer">
                  <img src="images/thisWebsite/FRgraph.png" class="zoomPic roundedCorner">
                </div>
              </div>
              <figcaption>An FR Graph of the note C3 on a piano - Frequency vs. Sound Pressure Level</figcaption>
            </figure>
            <br>
            <p>
              I firstly captured their FR graphs in an equalizer and traced their curves in Adobe Illustrator (shown in the
              below figure).
            </p>
            <figure class="item">
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="images/thisWebsite/tracing.png" class="item roundedCorner">
                </a>
                <div class="zoomContainer">
                  <img src="images/thisWebsite/tracing.png" class="zoomPic roundedCorner">
                </div>
              </div>
              <figcaption>Tracing the curve based on an averaged/simplified version of the same graph as above
              </figcaption>
            </figure>
            <br>
            <p>
              Then, considering the visual effect, I removed and stretched some parts of the curves I traced and placed them in
              different positions and angles. After that, I generated a set of intermediate curves (shown below).
            </p>
            <figure class="item">
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="images/thisWebsite/intermediateCurves.gif" class="item roundedCorner"
                    style="border: 3px solid darkblue;">
                </a>
                <div class=" zoomContainer">
                  <img src="images/thisWebsite/intermediateCurves.gif" class="zoomPic roundedCorner">
                </div>
              </div>
              <!--               <img src="intermediateCurves.gif" class="roundedCorner" style="border: 3px solid darkblue;"> -->
              <figcaption>An example of generating the intermediate curves</figcaption>
            </figure>
            <br>
            <p>
              At the end, I applied color-gradients, thickness variations, and blurs to the curves and created its
              current
              appearance.
            </p>
            <figure class="item">
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="images/headPic.png" class="item roundedCorner">
                </a>
                <div class="zoomContainer">
                  <img src="images/headPic.png" class="zoomPic roundedCorner">
                </div>
              </div>
            </figure>
            <br>
            <p>P.S.</p>
            <p>
              I very often play with virtual software instruments with my digital piano. When doing so, I like to have an equalizer software open on the side to help me tune the parameters and to watch the FR diagram change in an interesting mathematical pattern. Besides, I also see FR charts a lot in headphone/speaker forums and in Acoustic Physics. So, at one point, I took that inspiration from FR graphs and created this image, as an exploration of music, acoustics, and visual art.
            </p>
            <br>
            <p style="text-align: center; font-size: 125%; color: #ed07bc;" class="item">
              music, the aesthetics of sound, is also much about visual arts and math
            </p>
          </section>

        </section>



        <section id="hybridPiano">
          <h1 class="item" style="margin-bottom: 0;color: #5C0F6B;">Hybrid Piano</h1>

          <section class="sec item">
            <p class="item" style="text-align: center;">Not satisfied with my old digital piano?</p>
            <p class="item" style="text-align: center;">Not able to afford a nice piano?</p>
            <p class="item" style="text-align: center;">Make one on my own!</p>
            <p>Motivated by the desire for a better playing experience, I started crafting my own hybrid piano, combining
              electronic parts with the key action and soundboard of an acoustic piano.</p>
            <p>
              I didn't have the opportunity to learn about electricity or integrated circuits in school. And I had never
              done such a complicated hands-on project. But that wasn't a problem, I could learn from scratch. By referring
              to a similar hybrid piano project on Github, I started mine, studying basics of electricity,
              researching integrated circuits and chips, figuring out the meanings of the numbers on their datasheets,
              calculating the parameters of circuit components...
            </p>
            <figure class="item">
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="images/hybridPiano/firstSchematic.png" class="item roundedCorner">
                </a>
                <div class="zoomContainer">
                  <img src="images/hybridPiano/firstSchematic.png" class="zoomPic roundedCorner">
                </div>
              </div>
              <figcaption>My first Schematic</figcaption>
            </figure>
            <br>
            <p>
              After my ordered components arrived, I started to set them up and test my prototypes.
            </p>
            <figure class="item">
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="images/hybridPiano/prototype.jpg" class="item roundedCorner">
                </a>
                <div class="zoomContainer">
                  <img src="images/hybridPiano/prototype.jpg" class="zoomPic roundedCorner">
                </div>
              </div>
              <figcaption>
                Almost fried some chips and my fingers a few times! (because of miscalculations and misunderstandings of the electrical characteristic diagrams)
              </figcaption>
            </figure>
            <br>
            <p>
              Considering the space limitations, I designed my key sensor in the smallest scale using both sides of the PCB. First time soldering:
            </p>
            <figure class="item">
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="images/hybridPiano/soldering.png" class="item roundedCorner">
                </a>
                <div class="zoomContainer">
                  <img src="images/hybridPiano/soldering.png" class="zoomPic roundedCorner">
                </div>
              </div>
              <figcaption>
                It took me a whole afternoon to solder only these two parts. Yet I am becoming more skilled and
                efficient.
              </figcaption>
            </figure>
            <br>
            <p>
              For digital instruments, one of the most important features is their connection to digital devices. To
              achieve that, I started the long process of programming and debugging my microprocessor...
            </p>
            <figure class="item">
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="images/hybridPiano/programming.png" class="item roundedCorner">
                </a>
                <div class="zoomContainer">
                  <img src="images/hybridPiano/programming.png" class="zoomPic roundedCorner">
                </div>
              </div>
              <!--               <figcaption>
                oops!
              </figcaption> -->
            </figure>
            <br>
            <p>
              After continuous struggles, researches, and tests, I made my first step toward success: (sound included)
            </p>
            <video width=100% controls>
              <source src="images/hybridPiano/test.mov" type="video/mp4">
            </video>
            <br>
            <br>
            <p>To Do List:</p>
            <!--             <ul style="color: purple;"> -->
            <li>Produce more of these working parts</li>
            <li>Channel these parts in groups and add multiplexing features to the codes</li>
            <li>Test and optimize</li>
            <li>Install everything on an acoustic piano</li>
            <li>Try using tranducers to amplify sound with the soundboard of a piano</li>
            <!--             </ul> -->
            <br>
            <figure class="item">
              <div class="galleryContainer">
                <div style="width: 100%;" align="center">
                  <a href="#aa">
                    <img src="images/hybridPiano/key.gif" class="item roundedCorner" style="width: 50% !important;">
                  </a>
                </div>
                <div class="zoomContainer">
                  <img src="images/hybridPiano/key.gif" class="zoomPic roundedCorner">
                </div>
              </div>
              <figcaption>
                The old piano at my school auditorium. Its strings are broken but the keyboard seems OK.
              </figcaption>
            </figure>
            <br>
            <p>
              Hopefully, by having an unabridged key action made up of thousands of precise parts, the ability to modify the parameters in a software instrument, and vibrations from the soundboard, it could build a bridge to connect the player and the instrument nicely.
            </p>


          </section>

          <br>
          <h1 class="item" style="margin-bottom: 0; color: #5C0F6B;">Technical Details</h1>

          <section id="pianoTechDetails" class="sec item">

            <p><span style="color:#9018A8;">I started building these parts refering to someone else's project on GitHub
                named
                <a target="_blank" href="https://github.com/ekumanov/cybrid">Cybrid</a>. But after experiments, I found a better solution:</span></p>
            <p class="item">
              My Main Components:
            </p>
<!--             <div id="components"> -->
              <li id="cny70" class="componentList">
                CNY70 optical sensors (Vishay) x88
                <!--                 <div class="detail">
                  <p>Each key will have one CYN70 above this surface:</p>
                  <div class="galleryContainer">
                    <a href="#aa">
                      <img src="images/hybridPiano/action.png" class="item roundedCorner">
                    </a>
                    <div class="zoomContainer">
                      <img src="images/hybridPiano/action.png" class="zoomPic roundedCorner">
                    </div>
                  </div>
                  <p>This is the place that is close to the end of the piano hammer, which gives the </p>
                </div> -->
              </li>
              <li>SN74AHC4066 (Texas Instruments) x22
                <span class="componentList">ℹ
                  <div class="detail">
                    <p>My original plan was to use the same chips and setups as Cybrid uses: Texas Instruments LM339 +
                      SN74LVC245A</p>
                  </div>
                </span>
              </li>
              <li id="teensy" class="componentList">
                Teensy 4.1 microprocessor x1
              </li>
<!--             </div> -->
            <div>
              <br><br>
              <p style="color:  #5C0F6B;font-family:'Times New Roman', Times, serif, sans-serif;font-style: italic;font-size: 24px;">CNY70:</p>
              <p>
                is an optical sensor. It has two parts: an emitter and a phototransistor. The emitter shoots an infrared
                light, which would hit an object and bounce back. The phototransistor will then receive the light
                reflected back and output a corresponding analog signal based on the intensity of the light it detects. The more
                light it detects, the higher the voltage it outputs.
              </p>
              <p>
                They are 88 pieces of these sensors; each is placed above and facing toward this surface⬇:
              </p>
              
              <figure class="item">
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="images/hybridPiano/action.png" class="item roundedCorner">
                </a>
                <div class="zoomContainer">
                  <img src="images/hybridPiano/action.png" class="zoomPic roundedCorner">
                </div>
              </div>
              
            </figure>

              <p>Why placing at here?</p>
              <p>
                The action of a grand piano has complex parts and movements, such as the Letoff mechanism. Sometimes, a
                key is pressed, but its hammer does not hit the string to produce a sound. The touch/playing is only effective if the hammer hits the string. Thus, I should find a place that's directly
                connected to the hammer for most accurate data. Then this flat surface becomes a good choice. It is
                on the stick that drives the hammer, so it moves the same way as the hammer. This surface is also close
                to the hammer's pivot point, it doesn't travel as much as the hammer does (which is at the end of the
                leverage). It would be easier for the tiny sensor to detect such a smaller movement.
              </p>
              
              <p>What happens after the sensor is placed there?</p>
              <p style="display: inline;">
                When a key is pressed, this surface and the hammer will rise. The moments when this surface and the hammer rises enough to touch the strings will affect the sound. So I measure the height of the surface at these moments, representing the point that the hammer is high enough to reach the string. After I install the sensor, it will detect the rise and fall of this surface. Whenever this surface rises higher than the point I measured, my whole installation will tell the computer that "an imaginary string is hit, so generate a sound"  
              </p>
              <div class="componentList" style="display:inline;position: relative;"><a style="color: blue;">ℹ.</a>
                <div class="detail">
                  <p>
                    Since it's a hybrid piano, I want to have the software instrument produce the sound, rather than have the hammers strike the strings (on the other hand, the strings on my school's old piano are broken).
                  </p>
                </div>
              </div>

              <br><br>
              <p>Wiring and connection:</p>
              <p style="display: inline;">
                For now, i supply the emitter with a 5v DC and a 220ohm resistor. The phototransistor also gets 5v but with no resistor </p>
              <div class="componentList" style="display: inline;position: relative;"><a style="color: blue;">ℹ.</a>
                    <div class="detail">
                      <p>
                        Since the phototransistor draws an amount of current based on its need that wouldn't be too much to overload it (confirmed in the datasheet as well).
                      </p>
                    </div>
                </div>
              
              <a style="white-space: normal;color: #9018A8;line-height:30px;">The phototransistor outputs an analog signal, so I have one line passing that signal to the
                  SN74AHC4066 chip, and one line connected to a 2200 ohm resistor that consumes the remaining voltage and
                  leads
                  to the ground.
              </a>

              <figure class="item">
                <div class="galleryContainer">
                  <a href="#aa">
                    <img src="images/hybridPiano/CNY70.png" class="item roundedCorner">
                  </a>
                <div class="zoomContainer">
                  <img src="images/hybridPiano/CNY70.png" class="zoomPic roundedCorner">
                </div>
              </div>
              <figcaption>CNY 70 Wiring</figcaption>
            </figure>


              <br><br>
              <p style="color:  #5C0F6B;font-family:'Times New Roman', Times, serif, sans-serif;font-style: italic;font-size: 24px;">SN74AHC4066 (abbreviated as SN74 in later use):</p>
              <p style="display: inline;">is a quadral bilateral analog switch.<br>
                It passes analog signals from one pin to another pin 
              </p>
              <div class="componentList" style="display: inline;position: relative;"><a style="color: blue;">ℹ,</a>
                    <div class="detail">
                      <p>
                         from #A to #B, or from #B to #A
                      </p>
                    </div>
                </div>
              <a style="white-space: normal;color: #9018A8;line-height:30px">and #C pins are switches/controls. When a #C pin receive a high digital signal, it connects its corresponding #A and #B pins, so data can transmit between these two pins; when a low digital signal is passed to the #C pin, it disconnects its #A and #B pins. To not mess up with the directions, I'll let all #A pins be my input and #B be my output.</a>
            

              <figure class="item">
                <div class="galleryContainer">
                  <a href="#aa">
                    <img src="images/hybridPiano/SN74.png" class="item roundedCorner">
                  </a>
                <div class="zoomContainer">
                  <img src="images/hybridPiano/SN74.png" class="zoomPic roundedCorner">
                </div>
              </div>
              <figcaption>Pins were drawn in different positions from the original chip for a clearer visual</figcaption>
            </figure>  
                
              <br>
              <p>Wiring and connection:</p>
              <p>Two SN74 will be set as one group; there are 11 groups in total. All the SN74 chips get a <span style="color:red;">5v power supply</span> and share the <span style="color:black;">ground</span>. Each #A pin will be connected to the analogue output of a CNY70. The eight #C pins in each group will be wired together and connect to <span style="color:green;">#-CONTROL LINE</span> (# equals to the Group Number). The #B pins in each group will be connected to <span style="color:blue;">SIGNAL LINES</span> numbered as 1 through 8, then connects to the number 1 to 8 input pins of Teensy (microprocessor).</p>

              <figure class="item">
                <div class="galleryContainer">
                  <a href="#aa">
                    <img src="images/hybridPiano/grouping.png" class="item roundedCorner">
                  </a>
                <div class="zoomContainer">
                  <img src="images/hybridPiano/grouping.png" class="zoomPic roundedCorner">
                </div>
              </div>
              <figcaption>
                To make it easier to understand, I made the text in the paragraph the same color as the wires in this graph
              </figcaption>
            </figure> 

              
              <br>
              
              <p>The concept of grouping:</p>
              <p style="display: inline;">
                The microprocessor is the key component for my installation to communicate with the computer. In order to detect the 88 keys on the piano, the microprocessor needs to pass the 88 CYN70 sensor signals to the computer. But there isn't one microprocessor that has more than 88 pins I can find. So multiplexing/grouping is required. I set 8 keys as one group 
              </p> 
              <div class="componentList" style="display: inline;position: relative;"><a style="color: blue;">ℹ,</a>
                <div class="detail">
                  <p>
                    Including eight CYN70 and two SN74 in one group.
                  </p>
                </div>
              </div>
              <a style="white-space: normal;color: #9018A8;line-height: 30px;">which there are 88/8 = 11 groups. <br>There will be 8 sensor signals passed from group 1 to the microprocessor, then the next 8 signals from group 2, then the third group...until group 11, then repeat this process starting from group 1 again. Using this method, only 8 pins are required to send the 8 sensor signals in each group to the microprocessor everytime. In other word, the 11 groups take turns to pass their 8 sensor data through the same 8 signal lines (the groups share these 8 signal lines). To assist this process, I also need the ability to control the groups. The #C switches on SN74 work well. Whenever I need one group's data, I enable that group by giving a high digital signal to the #C pins in the group's two SN74 chips, and provide the #C pins in other groups with a low signal to disconnect them 
              </a>
              <div class="componentList" style="display: inline;position: relative;"><a style="color: blue;">ℹ.</a>
                <div class="detail">
                  <p>
                    This also prevents short-circuting. Because all groups share the same 8 lines, one data from one group can go to another group through their shared lines, and this unexpected voltage will flow back from #B to #A pin and causes errors or damages.
                  </p>
                </div>
              </div>
              <a style="white-space: normal;color: #9018A8;line-height: 30px;">
                Each group needs one control, so there needs 11 group controls in total. At the end, 8 signal lines + 11 control lines = 19 pins are needed for the microprocessor, which is also the reason for choosing Teensy 4.1 rather than other Arduinos (Arduinos usually don't have enough pins).
              </a>

              <br><br><br><br>
              <p style="color:  #5C0F6B;font-family:'Times New Roman', Times, serif, sans-serif;font-style: italic;font-size: 24px;">The whole operating principles:</p>
              <p style="display:inline;">
                I code a program using C++ for the microprocessor. In this program, it determines the height of the hammer by comparing the pre-measured voltages and the voltage signal gathered by the CNY70 sensor 
              </p>
              <div class="componentList" style="display: inline;position: relative;"><a style="color: blue;">ℹ,</a>
                <div class="detail">
                  <p>
                    When a key is pressed, the surface under the CNY70 sensor rises. When it rises, it gets closer to the sensor. When it gets closer to the sensor, more light it can reflect back to the sensor and then the sensor will output a higher voltage. So the voltage the sensor output can represent the height of the surface/hammer. And by comparing the voltages, we could tell whether the hammer reaches a point/height or not.
                  </p>
                </div>
              </div>
              <a style="white-space: normal;color: #9018A8;line-height: 30px;">
                and calculate the velocity of the key to generate a sound. Below image is an example of this process. It's only a brief example, because there are more things to consider, such as the release of the key, the pedals, the letoff simulation (which probably requires 4 points of measurement).
              </a>

              <figure class="item">
                <div class="galleryContainer">
                  <a href="#aa">
                    <img src="images/hybridPiano/principle.png" class="item roundedCorner">
                  </a>
                <div class="zoomContainer">
                  <img src="images/hybridPiano/principle.png" class="zoomPic roundedCorner">
                </div>
              </div>
            </figure> 

              <br>

              <p>
                There are two main differences between my solution and Cybrid's solution. One is the placement of the CNY70 sensors. In Cybrid, they are placed under the keyboard to detect the motion of each key when it's pressed/released; I chose to place the sensors above the surface of the hammer sticks as previously explained, which make it more accurate to simulate the realistic playing experience. Yet, this made the installation difficult since there is less room above that surface.<br>
                Another difference is that I pass voltage signals from CNY70 sensors to the microprocessor and let the microprocessor do all the work of handling those analog signals. While Cybrid uses LM399 voltage comparator chips to do the comparison work first and then pass the results as digital signals (data containing only 0 or 1) to the microprocessor. the LM399 chip needs another voltage as a standard to compare with the sensor signals from the CNY70. When the sensor signal exceeds the pre-set standard, it outputs a 1, or it outputs a 0. To set the standard voltage, Cybrid uses variable resistors, which are inflexible to adjust and would cost more. So instead I choose to let my microprocessor receive the analog signals directly, recognize the number of voltage it receives, and compare that number to the standard I set as a constant number stored in the codes (it is much easier and more flexible to set the numbers on a computer than to setup many variable resistors).
              </p>

              <br>
              <p style="text-align: center; font-size: 125%; color: #ed07bc;" class="item">
                More content and the final product coming out soon!
              </p>
              
              <figure class="item linkEffect">
                <div class="galleryContainer">
                  <a href="#aa">
                    <img src="images/hybridPiano/fazioli.jpeg" class="item roundedCorner">
                  </a>
                <div class="zoomContainer">
                  <img src="images/hybridPiano/fazioli.jpeg" class="zoomPic roundedCorner">
                </div>
              </div>
              <figcaption><a href="https://www.vsl.co.at/en/Synchron_Pianos_Bundle/Fazioli_F308" target="_blank" style="white-space:normal;">Fazioli F308 by Vienna Symphonic Library, the software piano I use the most<br>(you can click on me for more information and see how it sounds)</a></figcaption>
            </figure> 

              
            </div>

          </section>

        </section>



        <section id="lagrangePolynomial">
          <h1 class="item" style="margin-bottom: 0;color: #7d0958;">Lagrange Polynomial Calculator</h1>

          <section class="sec item">
            <br>
            <p class="item" style="line-height: 70%;">Lets first take a look at this easy question:</p>
            <div style="text-align: center;">
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="images/lagrangePolynomial/problem.png" class="item roundedCorner"
                    style="border: 3px solid darkblue;">
                </a>
                <div class="zoomContainer">
                  <img src="images/lagrangePolynomial/problem.png" class="zoomPic roundedCorner">
                </div>
              </div>
            </div>

            <p class="item">Correct!! It is not difficult to figure out the answer: the number covered by the ink is:
            </p>
            <p class="formula">
              \(f\left( 4\right) =114514\)
            </p>
            <p>Because:</p>
            <div style="overflow-y: hidden;overflow-x: auto;">
              <p class="formula">
                \(f\left( \symbf{1}\right) =19085(\symbf{1})^3 -114510(\symbf{1})^2 +
                209936(\symbf{1}) -114510 = \symbf{1}\)
              </p>
              <p class="formula">
                \(f\left( \symbf{2}\right) =19085(\symbf{2})^3 -114510(\symbf{2})^2 +
                209936(\symbf{2}) -114510 = \symbf{2}\)
              </p>
              <p class="formula">
                \(f\left( \symbf{3}\right) =19085(\symbf{3})^3 -114510(\symbf{3})^2 +
                209936(\symbf{3}) -114510 = \symbf{3}\)
              </p>
              <p class="formula">
                \(f\left( \symbf{4}\right) =19085(\symbf{4})^3 -114510(\symbf{4})^2 +
                209936(\symbf{4}) -114510 = \symbf{114514}\)
              </p>
            </div>
            <div style="text-align: center;">
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="images/lagrangePolynomial/mur.jpg" class="item roundedCorner"
                    style="max-width:30% !important">
                </a>
                <div class="zoomContainer">
                  <img src="images/lagrangePolynomial/mur.jpg" class="zoomPic roundedCorner">
                </div>
              </div>
              <!--               <img style="max-width:30%" src="mur.jpg"> -->
            </div>
            <br>
            <p>
              Lagrange Interpolating Polynomial is a method named after mathematician Joseph-Louis Lagrange. You can use
              this technique to compute polynomials based on the coordinate pairs you want the polynomials to go
              through.
              <br><br>
              I found it very interesting, meanwhile, I was also learning C++ by myself, so I decided to program a
              Lagrange polynomial calculator.
            </p>
            <hr>
            <p>Lagrange's formula:</p>
            <p class="formula">
              \(P(x) = \sum\limits_{i=0}^{n}\ \Bigg( f(a_i) \prod\limits_{j\neq i,j=0}^n \frac{x-a_j}{a_i-a_j} \Bigg) \)
            </p>
            
            <p>
              While I was exploring and experimenting with the formula, I took some notes as well:
            </p>
            <div class="galleryContainer">
              <a href="#aa">
                <img src="images/lagrangePolynomial/notes.png" class="item roundedCorner"
                  style="border: 3px solid darkblue;">
              </a>
              <div class="zoomContainer">
                <img src="images/lagrangePolynomial/notes.png" class="zoomPic roundedCorner">
              </div>
            </div>
            <br>
            <p>
              There is a big difference between using a formula myself and telling a program to do so. Writing every
              line of codes telling what the computer should do does not accomplish the goal of automation. So I needed
              to create a clear set of rules for the program to automatically loop through the code and perform
              conditional judgments and calculations, which indeed led to most of the difficulties I needed to solve for
              days. But, here it is, the final product:
            </p>
            <figure>
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="images/lagrangePolynomial/calc.gif" class="item roundedCorner"
                    style="border: 3px solid darkblue;">
                </a>
                <div class="zoomContainer">
                  <img src="images/lagrangePolynomial/calc.gif" class="zoomPic roundedCorner">
                </div>
              </div>
              <figcaption style="text-align: right;">
                Testing the final program. ("100100" is what I used to finish entering data points.)
              </figcaption><br><br>
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="images/lagrangePolynomial/graph.png" class="item roundedCorner"
                    style="border: 3px solid darkblue;">
                </a>
                <div class="zoomContainer">
                  <img src="images/lagrangePolynomial/graph.png" class="zoomPic roundedCorner">
                </div>
              </div>
              <figcaption>
                Copying and pasting the output onto Desmos to check accuracy and how it looks on the graph.
              </figcaption>
            </figure>
            <p><br>It works!</p>
            
          </section>

          <br>
          <h1 class="item" style="margin-bottom: 0;color: #7d0958;">Technical details</h1>

          <section class="sec item">
            <br>
            
            <p>
              Behind such a short and refined formula, there is a great deal of complex calculations and human wisdom. Let's look at the concept behind the formula and how I coded this calculator.
            </p>
            <br>
            <br>

            <a href="lagrangeCalcCodes.html" target="_blank">
              <button type="button" class="btn btn-primary">CLICK TO SEE ORIGINAL CODES</button>
            </a>
            <br>
            <br>
            <p class="item">...Under construction...</p>
          </section>

        </section>



        <section id="myArtworks">
          <h1 class="item" style="margin-bottom: 0;color: #7D1E7D;">My Artworks</h1>


          <div class="sec item">
            <p>
              From a young age, my mom nurtured my interest in colors, which led to my passion for them today. As I got involved in arts more - especially at Pratt Institute where I studied theories, techniques, and ways of observing and thinking with professionals, peers, and my community - the stronger my desire to create grow. I long to explore, create, and share more art in college and in the future. 

            </p><br>

            <p class="item">Try out all the features by hovering and clicking on the images!</p>

            <section id="gallery">

              <div class="galleryContainer">
                <a href="#aa">
                  <img src="artworks/piano.jpg" class="roundedCorner">
                </a>
                <figcaption class="galleryFigcaption">
                  <h2>Piano</h2>
                  <p>9x12, watercolor, 2022</p>
                </figcaption>
                <span class="galleryContent roundedCorner">
                  <h2>Piano</h2>
                  <p>9x12, watercolor, 2022</p>
                </span>
                <div class="zoomContainer">
                  <img src="artworks/piano.jpg" class="zoomPic">
                </div>
              </div>
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="artworks/chocolateBar.jpg" class="roundedCorner">
                </a>
                <figcaption class="galleryFigcaption">
                  <h2>Chocolate Bar</h2>
                  <p>18 x 24, vine charcoal on drawing paper, 2022, still life perspective study</p>
                </figcaption>
                <span class="galleryContent roundedCorner">
                  <h2>Chocolate Bar</h2>
                  <p>18 x 24, vine charcoal on drawing paper, 2022, still life perspective study</p>
                </span>
                <div class="zoomContainer">
                  <img src="artworks/chocolateBar.jpg" class="zoomPic">
                </div>
              </div>
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="artworks/LiquidInGlass.jpg" class="roundedCorner">
                </a>
                <figcaption class="galleryFigcaption">
                  <h2>Liquid In Glass</h2>
                  <p>12x16, acrylic on canvas, 2022, still life color transparency study</p>
                </figcaption>
                <span class="galleryContent roundedCorner">
                  <h2>Liquid In Glass</h2>
                  <p>12x16, acrylic on canvas, 2022, still life color transparency study</p>
                </span>
                <div class="zoomContainer">
                  <img src="artworks/LiquidInGlass.jpg" class="zoomPic">
                </div>
              </div>
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="artworks/vampire.jpg" class="roundedCorner">
                </a>
                <figcaption class="galleryFigcaption">
                  <h2>Vampire</h2>
                  <p>11x14, charcoal and pencils on drawing paper, 2020</p>
                </figcaption>
                <span class="galleryContent roundedCorner">
                  <h2>Vampire</h2>
                  <p>11x14, vine charcoal and pencils on drawing paper, 2020</p>
                </span>
                <div class="zoomContainer">
                  <img src="artworks/vampire.jpg" class="zoomPic">
                </div>
              </div>
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="artworks/apple.jpg" class="roundedCorner">
                </a>
                <figcaption class="galleryFigcaption">
                  <h2>Apple</h2>
                  <p>8x8, acrylic on canvas, 2022, still life study</p>
                </figcaption>
                <span class="galleryContent roundedCorner">
                  <h2>Apple</h2>
                  <p>8x8, acrylic on canvas, 2022, still life study</p>
                </span>
                <div class="zoomContainer">
                  <img src="artworks/apple.jpg" class="zoomPic">
                </div>
              </div>
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="artworks/shaken.jpg" class="roundedCorner">
                </a>
                <figcaption class="galleryFigcaption">
                  <h2>Shaken</h2>
                  <p>Sculpture, wood, plaster, and glass, 2022</p>
                </figcaption>
                <span class="galleryContent roundedCorner">
                  <h2>Shaken</h2>
                  <p>Sculpture, wood, plaster, and glass, 2022</p>
                </span>
                <div class="zoomContainer">
                  <img src="artworks/shaken.jpg" class="zoomPic">
                </div>
              </div>
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="artworks/birthdayGirl.jpg" class="roundedCorner">
                </a>
                <figcaption class="galleryFigcaption">
                  <h2>Birthday Girl</h2>
                  <p>11x14, pencils on drawing paper, 2021</p>
                </figcaption>
                <span class="galleryContent roundedCorner">
                  <h2>Birthday Girl</h2>
                  <p>11x14, pencils on drawing paper, 2021</p>
                </span>
                <div class="zoomContainer">
                  <img src="artworks/birthdayGirl.jpg" class="zoomPic">
                </div>
              </div>
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="artworks/runningHorse.jpg" class="roundedCorner">
                </a>
                <figcaption class="galleryFigcaption">
                  <h2>Running Horse</h2>
                  <p>Sculpture, laser-cut cardboard and metal, 2022</p>
                </figcaption>
                <span class="galleryContent roundedCorner">
                  <h2>Running Horse</h2>
                  <p>Sculpture, laser-cut cardboard and metal, 2022</p>
                </span>
                <div class="zoomContainer">
                  <img src="artworks/runningHorse.jpg" class="zoomPic">
                </div>
              </div>
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="artworks/pianist.jpg" class="roundedCorner">
                </a>
                <figcaption class="galleryFigcaption">
                  <h2>Pianist</h2>
                  <p>11x14, graphite on drawing paper, 2022</p>
                </figcaption>
                <span class="galleryContent roundedCorner">
                  <h2>Pianist</h2>
                  <p>11x14, graphite on drawing paper, 2022</p>
                </span>
                <div class="zoomContainer">
                  <img src="artworks/pianist.jpg" class="zoomPic">
                </div>
              </div>
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="artworks/rythmsOfTheWind.jpg" class="roundedCorner">
                </a>
                <figcaption class="galleryFigcaption">
                  <h2>Rythms Of The Wind</h2>
                  <p>12x18, acrylic on canvas, 2022</p>
                </figcaption>
                <span class="galleryContent roundedCorner">
                  <h2>Rythms Of The Wind</h2>
                  <p>12x18, acrylic on canvas, 2022</p>
                </span>
                <div class="zoomContainer">
                  <img src="artworks/rythmsOfTheWind.jpg" class="zoomPic">
                </div>
              </div>
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="artworks/ribbon.jpg" class="roundedCorner">
                </a>
                <figcaption class="galleryFigcaption">
                  <h2>Ribbon</h2>
                  <p>Pinewood strips and frame and acrylic, wood frame height and width 8x12 inch, 2022, inspired by Diarmuid's tragedy in Celtic Mythology</p>
                </figcaption>
                <span class="galleryContent roundedCorner">
                  <h2>Ribbon</h2>
                  <p>Pinewood strips and frame and acrylic, wood frame height and width 8x12 inch, 2022, inspired by Diarmuid's tragedy in Celtic Mythology</p>
                </span>
                <div class="zoomContainer">
                  <img src="artworks/ribbon.jpg" class="zoomPic">
                </div>
              </div>
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="Bottles.jpg" class="roundedCorner">
                </a>
                <figcaption class="galleryFigcaption">
                  <h2>Bottles</h2>
                  <p>12x16, watercolor, 2023</p>
                </figcaption>
                <span class="galleryContent roundedCorner">
                  <h2>Bottles</h2>
                  <p>12x16, watercolor, 2023</p>
                </span>
                <div class="zoomContainer">
                  <img src="Bottles.jpg" class="zoomPic">
                </div>
              </div>
              <div class="galleryContainer">
                <a href="#aa">
                  <img src="Filter.jpg" class="roundedCorner">
                </a>
                <figcaption class="galleryFigcaption">
                  <h2>Filter</h2>
                  <p>12x16, collage and pencil, 2023</p>
                </figcaption>
                <span class="galleryContent roundedCorner">
                  <h2>Filter</h2>
                  <p>12x16, collage and pencil, 2023</p>
                </span>
                <div class="zoomContainer">
                  <img src="Filter.jpg" class="zoomPic">
                </div>
              </div>

            </section>

            <br>
            <hr><br>

            <p>
              I took piano lessons from a teacher for less than three years when I was little. Most of the time, I learned to play on my own. Since the past four years, my love for the piano has grown even deeper. I've also learned more to appreciate and take inspiration and power from music. Piano and music will surely accompany along my journey.
            </p>

            <br>
            
            <div id="Swordland">
              <div id="dropDown2">
                <h2 style="color: darkgoldenrod; display: inline-block;">Swordland</h2>
                <img id="dropDownIcon2" style="display: inline-block;" src="fi-xwsdxt-chevron-wide.png">
              </div>
              <p id="video2Description">
                I recorded it as part of a video that's shown to my entire high school for advertising and recruiting
                more
                students to join my talent club. This piece is very much like an Étude with repeating structures,
                chords,
                and arpeggio, but still very satisfying and exciting to play (also very tiring to play). Please enjoy~
              </p>
              <div class="video-container">
                <iframe width="560" height="315" src="https://www.youtube.com/embed/yAEfBsIkeLU?si=p6Ya75oWNVoPk3lQ"
                  title="YouTube video player" frameborder="0"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                  allowfullscreen></iframe>
              </div>
              <div id="description2">
                <li>Recorded on: December 10th, 2022</li>
                <li>Song Name: Swordland</li>
                <li>Piano ver Arranger & Original Performer: Animenz</li>
                <li>Software Library: VSL - D274</li>
                <li>Digital Piano: YAMAHA YDP 162</li>
              </div>
            </div>

            <br><br>
            
            <div id="AoiTori">
              <div id="dropDown1">
                <h2 style="color: darkblue; display: inline-block;">Blue Bird</h2>
                <!-- <img id="dropDownIcon1" style="display: inline-block;" src="fi-xwsdxt-chevron-wide.png"> -->
              </div>

              <p id="video1Description">
                <!-- In the last days of free trial of the brilliant VSL Yamaha CFX, I recorded this piece to commemorate
                such
                a unique playing experience. This is a challenging and euphonious piece arranged by
                Pianeet,
                please enjoy~ -->
              </p>
              <div class="video-container">
                <iframe width="560" height="315" src="https://www.youtube.com/embed/V49LnC9tC4c?si=6oF-HgRjdDbf4U2B"
                  title="YouTube video player" frameborder="0"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                  allowfullscreen></iframe></iframe>
              </div>
              <div id="description1">
                <li>Recorded on: April 26, 2022</li>
                <li>Song Name: 蒼い鳥 M@STER VERSION (Blue Bird)</li>
                <li>Piano ver Arranger & Original Performer: Duke of Pianeet (Yui Morishita)</li>
                <li>Software Library: VSL - FAZIOLI F308</li>
                <li>Digital Piano: YAMAHA YDP 162</li>
              </div>
            </div>

            <br><br>

            <p style="text-align: center; font-size: 125%; color: #ed07bc;" class="item">
              Some classical piano music coming out!
            </p>

          </div>

        </section>









        <!--         test for two columns -->
<!--         <div style="border: 2px solid red;white-space: normal;display: none;">
          <div id="test" style="border: 2px solid black;vertical-align: middle;">

            <p>I created the header image at the top of this website based on the frequency response (FR) graphs of a
              note on a piano and a violin. I used software to capture their FRs and traced their curves accordingly.
              After that, considering the visual effect, I removed and stretched parts of the curves, and placed them in
              different positions and angles. Then, I used Adobe Illustrator to generate a set of intermediate curves as
              shown below. At the end, I applied color-gradients, thickness, and blurs to the curves and created its
              current appearance.</p>
          </div>
          <div id="space" style="background-color: yellow;"></div>
          <div id="testr" style="border: 2px solid black;vertical-align: middle;">
            <img src="FRgraph.png" style="width: 100%;">
            <figcaption>sa</figcaption>
          </div>

        </div> -->


      </div>



      <!--  right margin -->
      <div style="width: 50px;display: inline-block;" id="rightMargin">
        <p style="color: transparent;">t</p>
      </div>

   </div>
  </section>




  <!--   footer -->
  <br><br><br><br><br>
  <section id="hp2" style="position: relative;vertical-align: middle;">
    <a href="craffter.github.io/website-college/" target="_blank">
      <img style="margin: 0;" src="images/footer.jpeg">
      <div style="position: absolute; z-index: 1; text-align: center;top: 50%; left: 50%;transform: translate(-50%, -50%);">
        <h1 style="color: rgba(255, 255, 255, 0.07);margin: 0;">Website Created By Tom Song</h1>
        <p style="color: rgba(255, 255, 255, 0.07);margin: 0;font-family:'Times New Roman', Times, serif, sans-serif;font-style: italic;font-size: 24px;font-weight: bold;">craffter.github.io/website-college/</p>
      </div>
    </a>
  </section>




  <!--   </div> -->






  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"></script>

  <script src="myArtworks.js"></script>
  <script src="particles.json"></script>

</body>

</html>
